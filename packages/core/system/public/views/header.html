<nav class="navbar navbar-inverse navbar-fixed-top" data-role="navigation" ng-controller="HeaderController as hdrctr">
    <div class="page-header">
        <div class="navbar-header">
            <div class="pull-right">
                <button type="button" class="navbar-toggle" ng-click="isCollapsed = !isCollapsed">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div class="logo pull-left">

                <a class="navbar-brand" ui-sref="home" mean-token="'site-title'">Medien-Transparenz</a>
            </div>
        </div>

        <div class="collapse navbar-collapse" ng-class="!isCollapsed && 'in'">
            <div class="left pull-left">
                <ul class="navbar-nav nav">
                    <li ui-route="/{{item.link}}" ng-class="{active: $uiRoute, 'visible-xs': item.link == 'search'  } "
                        ng-repeat="item in hdrctr.menus.main">
                        <a mean-token="item.link" ui-sref='{{item.link}}'>{{item.title | translate}}</a>
                    </li>

                </ul>

            </div>

            <div class="right pull-right">
                <div class="text-edit" ng-show="hdrctr.hdrvars.authenticated">
                    <div class="pull-right" mean-token-editable></div>
                    <div class="pull-right" mean-translate></div>
                </div>

                <!--
                <ul class="navbar-nav nav auth-link" ng-show="!hdrctr.hdrvars.authenticated">
                    <!--li><a ui-sref='auth.register'>Join</a></li-->
                <!-- <li class="divider-vertical"></li>
                 <li><a ui-sref='auth.login'>Log In</a></li>
             </ul> -->
                <ul class="navbar-nav nav" ng-show="hdrctr.hdrvars.authenticated">
                    <li class="dropdown" uib-dropdown on-toggle="toggled(open)">
                        <a href="#" class="dropdown-toggle" uib-dropdown-toggle>
                            <span>{{hdrctr.hdrvars.user.name}}</span> <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#" ng-click="hdrctr.logout()">Log Out</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="navbar-nav nav" >
                    <li class="dropdown" uib-dropdown on-toggle="toggled(open)" ng-controller="LanguageCtrl">
                        <a href="#" class="dropdown-toggle" uib-dropdown-toggle role="button" aria-haspopup="true">
                            <span><i class="fa fa-globe" aria-hidden="true"></i></span> <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-right">
                            <li><a href="#" ng-click="setLanguage('de')" translate >German</a></li>
                            <li><a href="#" ng-click="setLanguage('en')" translate >English</a></li>
                        </ul>
                    </li>
                </ul>
                <form class="navbar-form nav navbar-collapse navbar-left form-inline hidden-xs"
                      data-ng-controller="HeaderSearchCtrl"
                      ng-submit="onSearchFormSubmit()">
                    <span class="input-group">
                        <input type="text" ng-model="searchterm"
                               class="form-control"
                               placeholder="{{'Search'|translate}}" size="20" ng-minlength="3"
                               required/>
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>
                        </span>
                    </span>
                    <!--button translate type="submit" class="btn btn-default">Search</button-->
                </form>
                 <!--form class="navbar-form nav navbar-collapse navbar-left form-inline"  ng-controller="LanguageCtrl">
                    <select data-ng-model="lang" class="btn btn-default"
                            ng-options="lang for lang in languages"></select>
                </form-->

            </div>
        </div>
    </div>
</nav>
