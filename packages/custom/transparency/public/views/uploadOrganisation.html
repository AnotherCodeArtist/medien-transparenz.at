<section class="container">
    <div data-ng-controller="UploadOrganisationController">
        <h1 translate>Upload new organisation list</h1>
        <div class="alert alert-danger" ng-show="error">{{error}}</div>
        <input type="file" ngf-select="onFileSelect($files)">
        <p>Uploaded: {{percent}}%</p>
        <div data-ng-show="feedback">
                <div class="alert alert-info" data-ng-show="feedback.integrityCheck">
                    <div><strong>Info</strong></div>
                    <p translate>Entries found</p>
                    {{feedback.entries}}
                    <p translate>Entries stored</p>
                    {{feedback.savedInDatabase}}</p>
                </div>

            <div class="alert alert-danger" ng-show="feedback.errors > 0">
                <strong>Attention:</strong> There have been {{feedback.errors}} processing errors!
            </div>
            <table data-ng-show="feedback.errorEntries.length>0" class="table table-striped">
                <tr>
                    <th>Code</th>
                    <th translate>Error</th>
                </tr>

                <tr ng-repeat="error in feedback.errorEntries">
                    <td>{{ error.errorCode }}</td>
                    <td>{{ error.errorMessage }}</td>
                </tr>
            </table>
            <ul class="list-group">
                <li class="list-group-item active" translate>
                    Results of the Upload
                </li>
                <li class="list-group-item" >
                    <span class="badge">{{feedback.entries}}</span>
                    <span translate>Number of entries</span>
                </li>
                <li class="list-group-item" >
                    <span class="badge">{{feedback.unknownFederalState}}</span>
                    <span translate>Entries without known federal state in Austria</span>
                </li>
                <li class="list-group-item" >
                    <span class="badge">{{feedback.notAustria}}</span>
                    <span translate>Organisations not from Austria</span>
                </li>
                <li class="list-group-item" >
                    <span class="badge">{{feedback.ignoredEntries}}</span>
                    <span translate>Ignored</span>
                </li>

            </ul>
            <div class="alert alert-warning" data-ng-show="feedback.unknownFederalStateEntries.length>0">
                <strong><div translate>Attention</div></strong><p translate> Entries without known federal state in Austria</p>
            </div>
            <table class="table" data-ng-show="feedback.unknownFederalStateEntries.length >0">
                <tr>
                    <th translate>Organisation</th>
                    <th translate>zip-code</th>
                </tr>
                <tr ng-repeat="entry in feedback.unknownFederalStateEntries">
                    <td>{{ entry.name }}</td>
                    <td>{{ entry.zipCode }}</td>
                </tr>
            </table>
        </div>
    </div>
</section>