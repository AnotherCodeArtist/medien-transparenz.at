<div class="container" data-ng-controller="TransparencyController">

    <div id="toolTip" class="panel panel-default" style="position: fixed; display: none; z-index: 5">
        <div class="panel-heading">
            <h3 class="panel-title">{{federalState}}</h3>
        </div>
        <div class="panel-body">
            {{sum}}<br/>
            {{percent}}
        </div>
    </div>
    <div class="row">
        <section class="container">
            <div class="intro">
                <div class="page-header">
                    <h1><span translate>Media Transparency Austria</span>
                        <small class="hidden-xs"><br/><span translate>An Overview of Public Money spent on Media-Cooperations and -Funding in Austria</span>
                        </small>
                    </h1>
                </div>
            </div>
        </section>
    </div>
    <div>
        <h2 translate>
            Background
        </h2>

        <p translate>
            As a consequence of ongoing discussions about potential misuse of tax-payers' money spent in advertising,
            the Austrian Parliament has released the so called Media Transparency Act ("Bundesverfassungsgesetz über die
            Transparenz von Medienkooperationen sowie von Werbeaufträgen und Förderungen an Medieninhaber eines
            periodischen Mediums und das KommAustria-Gesetz") in 2011. This regulation requires certain organizations to
            quarterly report on their spending in advertising and funding of media cooperations. Reported data is
            published by the <a href="http://www.rtr.at"> Rundfunk und Telekom Regulierungs GesmbH</a>. This web-site
            tries to provide an easy-to-use interface to this very data so that all interested citizens are able to get
            the information relevant to them out of it.
        </p>

        <p translate>
            Thus, this web-site wants to contribute to making Open Government Data more popular in Austrian</p>
        <p><a href="/imprint" translate>Imprint</a></p>
        <hr/>
    </div>
    <div class="diagrams map">
        <div class="tpaLegend">
            <div><span translate>Total</span>: {{total()}} €</div>
            <div><span translate>from </span>&nbsp;{{getFrom()}}&nbsp;<span translate>to </span>&nbsp;{{getTo()}}</div>
            <div ng-repeat="t in selectedTypes()">§{{t}} MedKF-TG </div>
            <a ng-click="showSettings=true;goto('settingsBoxMap')" class="setting-btn">
                <i class="fa fa-sliders" aria-hidden="true"></i>
                <span translate>change settings</span>
            </a>
        </div>
        <div class="austrianMap" austrian-map="austrian-map" data="mapData" id="webgl"></div>
        <p class=" caption small text-info" translate>The map can be turned by holding the left mouse button and
            dragging within the frame. It is possible to zoom into the map by scrolling.</p>
    </div>

    <div class="row paddingBottom">
        <section class="container">
            <div class="panel panel-default" id="mapSettings">


                <div class="panel panel-default col-sm-12 col-lg-12">

                </div>

                <div class="panel-heading">
                    <span translate>Settings</span>
                    <a href="#" class="pull-right btn" title="hide/show" ng-click="showSettings = !showSettings">
                        <i class="glyphicon {{showSettings ? 'glyphicon-chevron-up':'glyphicon-chevron-down'}}"></i></a>
                </div>
                <div class="panel-body" uib-collapse="!showSettings">

                    <div class="col-sm-12 col-lg-12" style="padding-top: 50px; padding-bottom: 50px">
                        <div class="col-sm-6 col-lg-6">
                            <strong>
                                <div translate>Periods</div>
                            </strong>
                            <rzslider rz-slider-model="slider.from" rz-slider-high="slider.to"
                                      rz-slider-options="slider.options"></rzslider>
                            <div class="checkbox">
                                <label><input id="fixRange" type="checkbox"
                                              ng-model="slider.options.draggableRangeOnly"/><span
                                        translate>Fix slider range</span></label>
                            </div>
                            <p class="small text-info" translate>Move the sliders to define a range</p>
                        </div>
                        <div class="col-sm-6 col-lg-6">
                            <strong>
                                <div translate>Payment Types</div>
                            </strong>
                            <div class="checkbox" data-ng-repeat="pType in typesText">
                                <label>
                                    <input type="checkbox" name="pType"
                                           ng-model="pType.checked"/>{{pType.text}}
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6 col-lg-6">
                            <strong>
                                <div translate>Organisation Types</div>
                            </strong>
                            <multiselect class="input-xlarge multiselect" ng-model="orgTypeSelection"
                                         options="p.value as p.name for p in orgTypes"
                                         header="{{'Organisation Types'|translate}}"
                                         selected-header="{{'elements selected'|translate}}"
                                         multiple="true"
                                         enable-filter="false">
                            </multiselect>
                        </div>
                    </div>
                </div>

            </div>

        </section>
        <a id="settingsBoxMap"></a>
    </div>

</div>
